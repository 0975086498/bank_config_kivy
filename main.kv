#: import demo demo.demo
#:import get_color_from_hex kivy.utils.get_color_from_hex
<HomeScreen>:

    MDBoxLayout: 
        orientation: "vertical"
        md_bg_color: app.theme_cls.bg_normal
        MDToolbar: 
            id: logoToolBar
            md_bg_color: get_color_from_hex("#27133a")
            height: '50sp'
            title: "Bank config"
            margin: 0

        ScrollView:
            do_scroll_y: True
            effect_cls: 'ScrollEffect'
            bar_width: 0
            MDBoxLayout:
                adaptive_height: True
                orientation: 'vertical'
                md_bg_color: get_color_from_hex("#27133a")
                spacing: '20sp'
                MDBoxLayout:
                    height: '80sp'
                    size_hint_y: None
                    ScrollView:
                        do_scroll_x: True
                        do_scroll_y: False
                        bar_width: 0
                        MDBoxLayout: 
                            id: bank_layout
                            spacing: '8sp'
                            orientation: 'horizontal'
                            adaptive_width: True
                            size_hint_x: None
                            padding: [10, 0, 0, 0]
                MDGridLayout:
                    id: gridButton
                    size_hint_x: None
                    adaptive_size: True
                    width: root.width
                    cols:5
                    Widget:
                        id: gap1
                        size_hint_x: None
                        width: '16sp'
                    MDRoundFlatIconButton:
                        id:btnStop
                        text: "Stop"
                        icon: "stop"
                        text_size: self.size
                        halign: 'center'
                        line_color: get_color_from_hex("#dc3545")
                        theme_text_color: "Custom"
                        text_color: "white"
                        width: gridButton.width/2 - gap2.width/2 - gap1.width
                        theme_icon_color: "Custom"
                        icon_color: get_color_from_hex("#dc3545")
                        on_release: app.on_stop_service()
                    Widget:
                        id: gap2
                        size_hint_x: None
                        width: '16sp'
                    MDFillRoundFlatIconButton
                        id:btnStart
                        text: "Start"
                        width: gridButton.width/2 - gap2.width/2 - gap3.width
                        icon: "ray-start-arrow"
                        md_bg_color: get_color_from_hex("#299d82")
                        adaptive_width: True
                        on_release: app.start_service()
                    Widget:
                        id: gap3
                        size_hint_x: None
                        width: '16sp'

                MDGridLayout:
                    id: gridButton
                    size_hint_x: None
                    adaptive_size: True
                    width: root.width
                    cols:5
                    Widget:
                        id: gap4
                        size_hint_x: None
                        width: '16sp'
                    MDRoundFlatIconButton:
                        id:btnInstall
                        text: "Install ATX & UIAutomator"
                        icon: "auto-download"
                        shorten: True
                        markup: True
                        shorten_from: 'right'
                        line_color: get_color_from_hex("#fab700")
                        theme_text_color: "Custom"
                        text_color: "white"
                        adaptive_width: True
                        width: gridButton.width/2 - gap3.width/2 - gap4.width
                        theme_icon_color: "Custom"
                        icon_color: get_color_from_hex("#fab700")
                        on_release: app.install_atx()
                    Widget:
                        id: gap3
                        size_hint_x: None
                        width: '16sp'
                    MDRoundFlatIconButton
                        id:btnAutoTest
                        text: "Auto Test"
                        icon: "autorenew"
                        icon_color: get_color_from_hex("#fab700")
                        width: gridButton.width/2 - gap3.width/2 - gap6.width
                        line_color: get_color_from_hex("#fab700")
                        adaptive_width: True
                        text_color: "white"
                        on_release: app.auto_test()
                    Widget:
                        id: gap6
                        size_hint_x: None
                        width: '16sp'


                MDBoxLayout:
                    orientation: 'vertical'
                    md_bg_color: app.theme_cls.bg_normal
                    size_hint_y: None
                    adaptive_height: True
                    radius: [20, 20, 0, 0]
                    padding: [0, 0, 0, 40]

                    Label:
                        text: 'Log'
                        theme_text_color: 'Custom'
                        size: self.texture_size
                        size_hint_y: None
                        size_hint_x: None
                        font_size: '15sp'
                        padding: [16,8]
                        color: app.theme_cls.opposite_bg_normal
                        bold: True

                    MDList:
                        id: logList
                        spacing: '10sp'
